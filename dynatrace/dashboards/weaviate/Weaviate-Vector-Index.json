{"version":14,"variables":[],"tiles":{"0":{"type":"markdown","title":"","content":"![weaviate logo](https://weaviate.io/assets/images/weaviate-nav-logo-light-532fdca50b4e5f974111eaf70c36080c.svg)\n# Vector Index"},"2":{"type":"data","title":"Vector Index Size by Class and Shard Name","query":"timeseries vector_index_size=avg(vector_index_size), by: { class_name, shard_name }\n| sort arrayAvg(vector_index_size) desc\n| limit 20","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"vector_index_size","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{"categoryAxis":"class_name","categoryAxisLabel":"class_name","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["vector_index_size"],"leftAxisDimensions":["class_name","shard_name"]},"hiddenLegendFields":["vector_index_size"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"class_name","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square","dataMappings":{"category":"class_name","value":"shard_name"}}}},"3":{"type":"markdown","title":"","content":"TODO: Vector Index Maintenance Operations (Sync & Async)\n\nLine 208 of: `https://github.com/weaviate/weaviate/blob/main/tools/dev/grafana/dashboards/vectorindex.json`\n\n```\nrate(vector_index_maintenance_durations_ms_sum{}[$__interval]) / rate(vector_index_maintenance_durations_ms_count{}[$__interval])\n```"},"4":{"type":"markdown","title":"","content":"TODO: Insert Operations by step, class and shard name\n\nLine 303 of: `https://github.com/weaviate/weaviate/blob/main/tools/dev/grafana/dashboards/vectorindex.json`\n\n```\nrate(vector_index_durations_ms_sum{operation=\\\"create\\\"}[$__interval])/rate(vector_index_durations_ms_count{operation=\\\"create\\\"}[$__interval])\n```"},"5":{"type":"markdown","title":"","content":"## Insert Operations\n"},"6":{"type":"markdown","title":"","content":"TODO: Concurrent goroutines\n\nLine 315 of: `https://github.com/weaviate/weaviate/blob/main/tools/dev/grafana/dashboards/vectorindex.json`\n\nCould not find `concurrent_goroutines` metric in DT or Weaviate docs\n\n```\nconcurrent_goroutines{class_name=\\\"object batcher\\\"}\n```"},"7":{"type":"markdown","title":"","content":"TODO: Delete Operations by step, class and shard name\n\nLine 303 of: `https://github.com/weaviate/weaviate/blob/main/tools/dev/grafana/dashboards/vectorindex.json`\n\n```\nrate(vector_index_durations_ms_sum{operation=\\\"delete\\\"}[$__interval])/rate(vector_index_durations_ms_count{operation=\\\"delete\\\"}[$__interval])\n```"},"8":{"type":"markdown","title":"","content":"## Delete Operations\n"}},"layouts":{"0":{"x":0,"y":0,"w":8,"h":6},"2":{"x":0,"y":6,"w":14,"h":5},"3":{"x":14,"y":0,"w":8,"h":6},"4":{"x":0,"y":12,"w":8,"h":6},"5":{"x":0,"y":11,"w":24,"h":1},"6":{"x":8,"y":12,"w":8,"h":6},"7":{"x":0,"y":19,"w":8,"h":6},"8":{"x":0,"y":18,"w":24,"h":1}}}