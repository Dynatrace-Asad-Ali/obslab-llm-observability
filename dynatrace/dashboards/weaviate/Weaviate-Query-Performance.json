{"version":14,"variables":[],"tiles":{"0":{"type":"markdown","title":"","content":"![weaviate logo](https://weaviate.io/assets/images/weaviate-nav-logo-light-532fdca50b4e5f974111eaf70c36080c.svg)\n# Querying"},"1":{"type":"markdown","title":"","content":"TODO: Average Query Latency\n\nLine 116 of: `https://github.com/weaviate/weaviate/blob/main/tools/dev/grafana/dashboards/querying.json`\n\n```\nrate(queries_durations_ms_sum{}[$__interval]) / rate(queries_durations_ms_count{}[$__interval])\n```"},"2":{"type":"markdown","title":"","content":"TODO: Query Rate\n\nLine 210 of: `https://github.com/weaviate/weaviate/blob/main/tools/dev/grafana/dashboards/querying.json`\n\n```\nrate(queries_durations_ms_count{}[$__interval])\n```"},"3":{"type":"markdown","title":"","content":"TODO: 90th Percentile Query Latency (Estimated)\n\nLine 304 of: `https://github.com/weaviate/weaviate/blob/main/tools/dev/grafana/dashboards/querying.json`\n\n```\nhistogram_quantile(0.90, sum(rate(queries_durations_ms_bucket{}[$__interval])) by (le,class_name))\n```"},"4":{"type":"markdown","title":"","content":"TODO: 95th Percentile Query Latency (Estimated)\n\nLine 398 of: `https://github.com/weaviate/weaviate/blob/main/tools/dev/grafana/dashboards/querying.json`\n\n```\nhistogram_quantile(0.95, sum(rate(queries_durations_ms_bucket{}[$__interval])) by (le,class_name))\n```"},"5":{"type":"markdown","title":"","content":"TODO: Query Rate. Operation = Filter\n\nLine 493 of: `https://github.com/weaviate/weaviate/blob/main/tools/dev/grafana/dashboards/querying.json`\n\n```\nrate(queries_filtered_vector_durations_ms_sum{operation=\\\"filter\\\"}[$__interval]) / rate(queries_filtered_vector_durations_ms_count{operation=\\\"filter\\\"}[$__interval])\n```"},"6":{"type":"markdown","title":"","content":"## Filtered Query Latency"},"7":{"type":"markdown","title":"","content":"TODO: Query Rate. Operation = Sort\n\nLine 505 of: `https://github.com/weaviate/weaviate/blob/main/tools/dev/grafana/dashboards/querying.json`\n\n```\nrate(queries_filtered_vector_durations_ms_sum{operation=\\\"sort\\\"}[$__interval]) / rate(queries_filtered_vector_durations_ms_count{operation=\\\"sort\\\"}[$__interval])\n```"},"8":{"type":"markdown","title":"","content":"TODO: Query Rate. Operation = Vector\n\nLine 518 of: `https://github.com/weaviate/weaviate/blob/main/tools/dev/grafana/dashboards/querying.json`\n\n```\nrate(queries_filtered_vector_durations_ms_sum{operation=\\\"vector\\\"}[$__interval]) / rate(queries_filtered_vector_durations_ms_count{operation=\\\"vector\\\"}[$__interval])\n```"},"9":{"type":"markdown","title":"","content":"TODO: Query Rate. Operation = Objects\n\nLine 531 of: `https://github.com/weaviate/weaviate/blob/main/tools/dev/grafana/dashboards/querying.json`\n\n```\nrate(queries_filtered_vector_durations_ms_sum{operation=\\\"objects\\\"}[$__interval]) / rate(queries_filtered_vector_durations_ms_count{operation=\\\"objects\\\"}[$__interval])\n```"},"10":{"type":"markdown","title":"","content":"## Concurrent Write Requests\n"},"11":{"type":"data","title":"Batch (Objects)","query":"timeseries concurrent_queries_count=sum(concurrent_queries_count), filter: { query_type==\"batch\" }","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"concurrent_queries_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"12":{"type":"data","title":"Batch (References)","query":"timeseries concurrent_queries_count=sum(concurrent_queries_count), filter: { query_type==\"batch_references\" }","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"concurrent_queries_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"13":{"type":"data","title":"Add (Objects)","query":"timeseries concurrent_queries_count=sum(concurrent_queries_count), filter: { query_type==\"add_object\" }","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"concurrent_queries_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["concurrent_queries_count"],"leftAxisDimensions":[]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"14":{"type":"data","title":"Update (Objects)","query":"timeseries concurrent_queries_count=sum(concurrent_queries_count), filter: { query_type==\"update_object\" }","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"concurrent_queries_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"15":{"type":"data","title":"Merge (Objects)","query":"timeseries concurrent_queries_count=sum(concurrent_queries_count), filter: { query_type==\"merge_object\" }","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"concurrent_queries_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"16":{"type":"data","title":"Delete (Objects)","query":"timeseries concurrent_queries_count=sum(concurrent_queries_count), filter: { query_type==\"delete_object\" }","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"concurrent_queries_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"17":{"type":"data","title":"Add (Reference)","query":"timeseries concurrent_queries_count=sum(concurrent_queries_count), filter: { query_type==\"add_reference\" }","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"concurrent_queries_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"18":{"type":"data","title":"Update (Reference)","query":"timeseries concurrent_queries_count=sum(concurrent_queries_count), filter: { query_type==\"update_reference\" }","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"concurrent_queries_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"19":{"type":"data","title":"Delete (Reference)","query":"timeseries concurrent_queries_count=sum(concurrent_queries_count), filter: { query_type==\"delete_reference\" }","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"concurrent_queries_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"20":{"type":"markdown","title":"","content":"### Objects"},"21":{"type":"markdown","title":"","content":"### References"},"22":{"type":"data","title":"Aggregate","query":"timeseries concurrent_queries_count=sum(concurrent_queries_count), filter: { query_type==\"aggregate\" }","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"concurrent_queries_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"23":{"type":"markdown","title":"","content":"## Concurrent Read Requests\n"},"24":{"type":"data","title":"GET (GraphQL)","query":"timeseries concurrent_queries_count=sum(concurrent_queries_count), filter: { query_type==\"get_graphql\" }","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"concurrent_queries_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["concurrent_queries_count"],"leftAxisDimensions":[]},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"25":{"type":"data","title":"GET (Objects)","query":"timeseries concurrent_queries_count=sum(concurrent_queries_count), filter: { query_type==\"get_object\" }","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"concurrent_queries_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"26":{"type":"data","title":"HEAD (Objects)","query":"timeseries concurrent_queries_count=sum(concurrent_queries_count), filter: { query_type==\"head_object\" }","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"concurrent_queries_count","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}}},"layouts":{"0":{"x":0,"y":0,"w":10,"h":5},"1":{"x":0,"y":5,"w":22,"h":3},"2":{"x":0,"y":8,"w":22,"h":3},"3":{"x":0,"y":11,"w":22,"h":3},"4":{"x":0,"y":14,"w":22,"h":3},"5":{"x":0,"y":18,"w":22,"h":3},"6":{"x":0,"y":17,"w":22,"h":1},"7":{"x":0,"y":21,"w":22,"h":3},"8":{"x":0,"y":24,"w":22,"h":3},"9":{"x":0,"y":27,"w":22,"h":3},"10":{"x":0,"y":30,"w":22,"h":1},"11":{"x":0,"y":38,"w":8,"h":6},"12":{"x":0,"y":51,"w":8,"h":6},"13":{"x":0,"y":32,"w":8,"h":6},"14":{"x":8,"y":32,"w":8,"h":6},"15":{"x":8,"y":38,"w":8,"h":6},"16":{"x":16,"y":32,"w":8,"h":6},"17":{"x":0,"y":45,"w":8,"h":6},"18":{"x":8,"y":45,"w":8,"h":6},"19":{"x":16,"y":45,"w":8,"h":6},"20":{"x":0,"y":31,"w":24,"h":1},"21":{"x":0,"y":44,"w":24,"h":1},"22":{"x":0,"y":58,"w":8,"h":6},"23":{"x":0,"y":57,"w":22,"h":1},"24":{"x":8,"y":58,"w":8,"h":6},"25":{"x":16,"y":58,"w":8,"h":6},"26":{"x":0,"y":64,"w":8,"h":6}}}